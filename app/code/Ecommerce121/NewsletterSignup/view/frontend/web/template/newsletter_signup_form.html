<div class="newsletter-signup-form">
    <div class="title-info">
        <h2 data-bind="text: title"></h2>
    </div>

    <form action="#" data-bind="submit: submitForm">
        <div class="field">
            <label data-bind="i18n: 'Email Address'" for="newsletter-signup-email"></label>
            <input id="newsletter-signup-email" name="email"
                   value="" size="30" type="text" placeholder="Email address" required/>
        </div>

        <!-- ko foreach: { data: activeDropdowns, as: 'dropdown'  } -->
        <div class="field">
            <label data-bind="i18n: dropdown.label, attr:{for: 'dropdown-' + dropdown.dropdownId + '-'}"></label>
            <select data-bind="attr:{
                            name: dropdown.label.toLowerCase(),
                            'data-dropdown-id': dropdown.dropdownId,
                            id: 'dropdown-' + dropdown.dropdownId + '-',
                            required: 'required'
                        },
                        options: dropdown.options,
                        optionsText: 'label',
                        optionsValue: 'valueId',
                        value: dropdown.selected,
                        disable: dropdown.options.length === 0,
                        optionsCaption: '--Please choose an option--',
                    event: { change: $parent.changeDropdown.bind($parent) }">
            </select>
        </div>
        <!-- /ko -->

        <input data-bind='attr: {value: getFormKey()}' type="hidden" name="form_key"/>
        <input value="Join Now" type="submit" />
    </form>
</div>
